*** Settings ***

Library  Selenium2Library  run_on_failure=Capture Page Screenshot
Library  plone.act.PloneLibrary
Variables  plone/app/testing/interfaces.py
Resource  plone/act/keywords.txt

Suite Setup  Start browser
Suite Teardown  Close All Browsers

Test Setup  Setup
Test Teardown  Teardown

*** Test cases ***

No Op
    Element Should Be Visible  css=h1

#Content Menu
#    [Tags]  action-menu
#    Click Link  An actionsmenu page
#    Element Should Not Be Visible  css=a#delete
#    Click Link  css=dl#plone-contentmenu-actions dt.actionMenuHeader a  don't wait
#    Element Should Be Visible  css=a#delete
#    Click Link  css=dl#plone-contentmenu-actions dt.actionMenuHeader a  don't wait
#    Element Should Not Be Visible  css=a#delete
#
#Switching Actions Menu
#    [Tags]  action-menu
#    Click Link  An actionsmenu page
#    Element Should Not Be Visible  css=a#delete
#    Element Should Not Be Visible  css=a#advanced
#    Click Link  css=dl#plone-contentmenu-actions dt.actionMenuHeader a  don't wait
#    Element Should Be Visible  css=a#delete
#    Element Should Not Be Visible  css=a#advanced
#    Mouse Over  css=dl#plone-contentmenu-workflow dt.actionMenuHeader a
#    Element Should Not Be Visible  css=a#delete
#    Element Should Be Visible  css=a#advanced
#    Mouse Over  css=dl#plone-contentmenu-actions dt.actionMenuHeader a
#    Element Should Be Visible  css=a#delete
#    Element Should Not Be Visible  css=a#advanced
#    Click Link  css=dl#plone-contentmenu-actions dt.actionMenuHeader a  don't wait
#    Element Should Not Be Visible  css=a#delete
#    Element Should Not Be Visible  css=a#advanced
#
#Clicking outside of Actions Menu
#    [Tags]  action-menu
#    Click Link  An actionsmenu page
#    Element Should Not Be Visible  css=a#delete
#    Element Should Not Be Visible  css=a#advanced
#    Click Link  css=dl#plone-contentmenu-actions dt.actionMenuHeader a  don't wait
#    Element Should Be Visible  css=a#delete
#    Element Should Not Be Visible  css=a#advanced
#    Mouse Down  css=h1
#    Wait until keyword succeeds  10s  1s  Element Should Not Be Visible  css=a#delete
#    Element Should Not Be Visible  css=a#advanced
#
#Publish Document
#    Click Link  An actionsmenu page
#    Page Should Contain Element  css=dl#plone-contentmenu-workflow dt.actionMenuHeader a span.state-private
#    Click Link  Publish
#    Page Should Contain Element  css=dl#plone-contentmenu-workflow dt.actionMenuHeader a span.state-published
#    Click Link  Send back
#    Page Should Contain Element  css=dl#plone-contentmenu-workflow dt.actionMenuHeader a span.state-private
#
#Copy Document
#    Click Link  An actionsmenu page
#    Click Link  Copy  don't wait
#    Wait until keyword succeeds  10s  1s  Page Should Contain  An actionsmenu page copied.
#    Click Link  An actionsmenu folder
#    Click Link  Paste  don't wait
#    Wait until keyword succeeds  10s  1s  Page Should Contain  Item(s) pasted.
#    Click Link  Contents
#    Xpath Should Match X Times  //table[@id = 'listing-table']/tbody/tr  1
#    Click Button  Paste
#    Xpath Should Match X Times  //table[@id = 'listing-table']/tbody/tr  2


*** Keywords ***


Setup  
    Log in as site owner
    Goto homepage
    Add Page  An actionsmenu page
    Goto homepage
    Create folder  An actionsmenu folder

Teardown
    Remove Content  an-actionsmenu-page
    Remove Content  an-actionsmenu-folder
    Log out

Start browser
    Open browser  ${PLONE_URL}

